function dE=Energy_test(z)  

q1 = z(:,1);   dq1 = z(:,7);                          
q2 = z(:,2);   dq2 = z(:,8);                          
q3 = z(:,3);   dq3 = z(:,9);                          
q4 = z(:,4);   dq4 = z(:,10);                         
q5 = z(:,5);   dq5 = z(:,11);                         
q6 = z(:,6);   dq6 = z(:,12);                       

global g t1 t2 t3 t4 t5 t6     
global xJ1 yJ1 zJ1        
global xG1 yG1 zG1 m1 Ixx1 Iyy1 Izz1 Ixy1 Ixz1 Iyz1        
global xJ2 yJ2 zJ2        
global xG2 yG2 zG2 m2 Ixx2 Iyy2 Izz2 Ixy2 Ixz2 Iyz2        
global xJ3 yJ3 zJ3        
global xG3 yG3 zG3 m3 Ixx3 Iyy3 Izz3 Ixy3 Ixz3 Iyz3        
global xJ4 yJ4 zJ4        
global xG4 yG4 zG4 m4 Ixx4 Iyy4 Izz4 Ixy4 Ixz4 Iyz4        
global xJ5 yJ5 zJ5        
global xG5 yG5 zG5 m5 Ixx5 Iyy5 Izz5 Ixy5 Ixz5 Iyz5        
global xJ6 yJ6 zJ6        
global xG6 yG6 zG6 m6 Ixx6 Iyy6 Izz6 Ixy6 Ixz6 Iyz6      

Length = length(z(:,1));       
dE = zeros (Length , 1);        
for i = 1:Length        
    E(i) = (m3*(dq3(i)*(yG3*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zG3*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - dq1(i)*(yG3*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - zG3*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ2*cos(q1(i)) + xG3*sin(q1(i)) + xJ2*sin(q1(i)) + xJ3*sin(q1(i)) + yJ3*cos(q1(i))*cos(q2(i)) - zJ3*cos(q1(i))*sin(q2(i))) + dq2(i)*(yG3*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zG3*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ3*cos(q2(i))*sin(q1(i)) + yJ3*sin(q1(i))*sin(q2(i))))^2)/2 - dq2(i)*((Ixz2*dq1(i)*cos(q2(i)))/2 - (Ixx2*dq2(i))/2 + (Ixy2*dq1(i)*sin(q2(i)))/2) + (m4*(dq2(i)*(yG4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + yJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) - zG4*cos(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xG4*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ3*cos(q2(i))*sin(q1(i)) + yJ3*sin(q1(i))*sin(q2(i))) + dq3(i)*(yG4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + yJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) - zG4*cos(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xG4*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - dq4(i)*(xG4*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - zG4*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))))) - dq1(i)*(yG4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + yJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - zJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ2*cos(q1(i)) + xJ2*sin(q1(i)) + xJ3*sin(q1(i)) + xJ4*sin(q1(i)) + xG4*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + zG4*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + yJ3*cos(q1(i))*cos(q2(i)) - zJ3*cos(q1(i))*sin(q2(i))))^2)/2 + (m2*(dq2(i)*(zG2*cos(q1(i))*cos(q2(i)) + yG2*cos(q1(i))*sin(q2(i))) - dq1(i)*(xG2*cos(q1(i)) + xJ2*cos(q1(i)) - yJ2*sin(q1(i)) - yG2*cos(q2(i))*sin(q1(i)) + zG2*sin(q1(i))*sin(q2(i))))^2)/2 + (m4*(dq3(i)*(yG4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + zG4*cos(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xG4*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + dq2(i)*(yG4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + zJ3*cos(q1(i))*cos(q2(i)) + yJ3*cos(q1(i))*sin(q2(i)) + zG4*cos(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xG4*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - dq1(i)*(yG4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + xJ2*cos(q1(i)) + xJ3*cos(q1(i)) + xJ4*cos(q1(i)) - yJ2*sin(q1(i)) + xG4*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + zG4*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - yJ3*cos(q2(i))*sin(q1(i)) + zJ3*sin(q1(i))*sin(q2(i))) + dq4(i)*(xG4*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - zG4*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))))))^2)/2 + (m6*(dq3(i)*(yJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ5*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yG6*(cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q4(i))*sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + yJ6*(cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q4(i))*sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zJ6*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + cos(q6(i))*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - sin(q4(i))*sin(q6(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zJ5*cos(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xJ5*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xJ6*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + dq6(i)*(xG6*(cos(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + sin(q4(i))*sin(q6(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zG6*(sin(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - cos(q6(i))*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))))) - dq5(i)*(yG6*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + yJ6*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zJ6*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zG6*cos(q6(i))*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - xG6*sin(q6(i))*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))))) - dq4(i)*(xG6*(cos(q4(i))*cos(q6(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q5(i))*sin(q4(i))*sin(q6(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zG6*(cos(q4(i))*sin(q6(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q5(i))*cos(q6(i))*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + xJ5*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + xJ6*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zJ5*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zJ6*cos(q5(i))*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yG6*sin(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ6*sin(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + dq2(i)*(yJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ5*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yG6*(cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q4(i))*sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + yJ6*(cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q4(i))*sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zJ6*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + yJ3*cos(q2(i)) - zJ3*sin(q2(i)) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + cos(q6(i))*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - sin(q4(i))*sin(q6(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zJ5*cos(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xJ5*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xJ6*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))))^2)/2 + (m2*(dq2(i)*(zG2*cos(q2(i))*sin(q1(i)) + yG2*sin(q1(i))*sin(q2(i))) - dq1(i)*(yJ2*cos(q1(i)) + xG2*sin(q1(i)) + xJ2*sin(q1(i)) + yG2*cos(q1(i))*cos(q2(i)) - zG2*cos(q1(i))*sin(q2(i))))^2)/2 - (Ixy4*((cos(q4(i))*(dq2(i) + dq3(i)))/2 - (sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2) + Iyz4*((sin(q4(i))*(dq2(i) + dq3(i)))/2 + (cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2) - Iyy4*(dq4(i)/2 + (dq1(i)*cos(q2(i))*sin(q3(i)))/2 + (dq1(i)*cos(q3(i))*sin(q2(i)))/2))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) + (m5*(dq4(i)*(zJ5*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - xJ5*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - xG5*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + zG5*cos(q5(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + yG5*sin(q5(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))))) + dq5(i)*(yG5*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zG5*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))))) + dq3(i)*(yJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + yJ5*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yG5*(cos(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - cos(q4(i))*sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zG5*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ5*cos(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xG5*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xJ5*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - dq1(i)*(yJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + yJ5*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - zJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ2*cos(q1(i)) + xJ2*sin(q1(i)) + xJ3*sin(q1(i)) + xJ4*sin(q1(i)) + xG5*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + xJ5*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + zJ5*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + yG5*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + zG5*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yJ3*cos(q1(i))*cos(q2(i)) - zJ3*cos(q1(i))*sin(q2(i))) + dq2(i)*(yJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + yJ5*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yG5*(cos(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - cos(q4(i))*sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zG5*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ5*cos(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xG5*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xJ5*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ3*cos(q2(i))*sin(q1(i)) + yJ3*sin(q1(i))*sin(q2(i))))^2)/2 + (Ixz5*((sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2 - (cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2) - Ixy5*((sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 + (cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2) + Ixx5*(dq5(i)/2 + (cos(q4(i))*(dq2(i) + dq3(i)))/2 - (sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))) + (Izz1*dq1(i)^2)/2 + (m4*(dq2(i)*(yG4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yJ3*cos(q2(i)) - zJ3*sin(q2(i)) - zG4*cos(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xG4*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - dq4(i)*(xG4*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zG4*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + dq3(i)*(yG4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - zG4*cos(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xG4*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))))^2)/2 - (dq2(i) + dq3(i))*(Ixy3*((dq1(i)*cos(q2(i))*sin(q3(i)))/2 + (dq1(i)*cos(q3(i))*sin(q2(i)))/2) + Ixz3*((dq1(i)*cos(q2(i))*cos(q3(i)))/2 - (dq1(i)*sin(q2(i))*sin(q3(i)))/2) - Ixx3*(dq2(i)/2 + dq3(i)/2)) + (sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))) + cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))*(Iyy5*((sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 + (cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2) + Iyz5*((sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2 - (cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2) - Ixy5*(dq5(i)/2 + (cos(q4(i))*(dq2(i) + dq3(i)))/2 - (sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2)) + (sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))*(Iyz5*((sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 + (cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2) + Izz5*((sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2 - (cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2) + Ixz5*(dq5(i)/2 + (cos(q4(i))*(dq2(i) + dq3(i)))/2 - (sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2)) + (m5*(dq4(i)*(xG5*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + xJ5*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zJ5*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zG5*cos(q5(i))*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yG5*sin(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + dq5(i)*(yG5*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zG5*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))))) - dq3(i)*(yJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ5*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yG5*(cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q4(i))*sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zG5*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zJ5*cos(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xG5*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xJ5*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - dq2(i)*(yJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yJ5*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yG5*(cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - cos(q4(i))*sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) - zG5*(sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + cos(q4(i))*cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))) + yJ3*cos(q2(i)) - zJ3*sin(q2(i)) - zJ5*cos(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xG5*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + xJ5*sin(q4(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))))^2)/2 + (m3*(dq3(i)*(yG3*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zG3*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + dq2(i)*(yG3*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zG3*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + zJ3*cos(q1(i))*cos(q2(i)) + yJ3*cos(q1(i))*sin(q2(i))) - dq1(i)*(yG3*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zG3*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + xG3*cos(q1(i)) + xJ2*cos(q1(i)) + xJ3*cos(q1(i)) - yJ2*sin(q1(i)) - yJ3*cos(q2(i))*sin(q1(i)) + zJ3*sin(q1(i))*sin(q2(i))))^2)/2 - (dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i)))*(Iyz3*((dq1(i)*cos(q2(i))*cos(q3(i)))/2 - (dq1(i)*sin(q2(i))*sin(q3(i)))/2) - Iyy3*((dq1(i)*cos(q2(i))*sin(q3(i)))/2 + (dq1(i)*cos(q3(i))*sin(q2(i)))/2) + Ixy3*(dq2(i)/2 + dq3(i)/2)) - (dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))*(Iyz3*((dq1(i)*cos(q2(i))*sin(q3(i)))/2 + (dq1(i)*cos(q3(i))*sin(q2(i)))/2) - Izz3*((dq1(i)*cos(q2(i))*cos(q3(i)))/2 - (dq1(i)*sin(q2(i))*sin(q3(i)))/2) + Ixz3*(dq2(i)/2 + dq3(i)/2)) + (m6*(dq4(i)*(xG6*(cos(q6(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*sin(q6(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))))) + zG6*(sin(q6(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - cos(q5(i))*cos(q6(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))))) + xJ5*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + xJ6*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - zJ5*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - zJ6*cos(q5(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - yG6*sin(q5(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - yJ6*sin(q5(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))))) - dq1(i)*(yG6*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + yJ6*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + zJ6*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + yJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yJ5*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + xJ2*cos(q1(i)) + xJ3*cos(q1(i)) + xJ4*cos(q1(i)) - yJ2*sin(q1(i)) + xJ5*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + xJ6*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + zJ5*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + xG6*(cos(q6(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q6(i))*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))))) + zG6*(sin(q6(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q6(i))*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))))) - yJ3*cos(q2(i))*sin(q1(i)) + zJ3*sin(q1(i))*sin(q2(i))) - dq5(i)*(yG6*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yJ6*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zJ6*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zG6*cos(q6(i))*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + xG6*sin(q6(i))*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))))) + dq6(i)*(xG6*(sin(q6(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q6(i))*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))))) - zG6*(cos(q6(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q6(i))*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))))) + dq3(i)*(yJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ5*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - cos(q6(i))*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + sin(q4(i))*sin(q6(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yG6*(cos(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yJ6*(cos(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zJ6*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + zJ5*cos(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xJ5*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xJ6*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + dq2(i)*(yJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ5*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - cos(q6(i))*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + sin(q4(i))*sin(q6(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yG6*(cos(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yJ6*(cos(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zJ6*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + zJ3*cos(q1(i))*cos(q2(i)) + yJ3*cos(q1(i))*sin(q2(i)) + zJ5*cos(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xJ5*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xJ6*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))))^2)/2 + (m6*(dq4(i)*(xG6*(cos(q6(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*sin(q6(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))))) + zG6*(sin(q6(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - cos(q5(i))*cos(q6(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))))) + xJ5*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + xJ6*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - zJ5*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - zJ6*cos(q5(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - yG6*sin(q5(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - yJ6*sin(q5(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))))) - dq5(i)*(yG6*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + yJ6*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ6*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zG6*cos(q6(i))*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + xG6*sin(q6(i))*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))))) - dq3(i)*(yJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + yJ5*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yG6*(cos(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - cos(q4(i))*sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + yJ6*(cos(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - cos(q4(i))*sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ6*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + cos(q6(i))*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - sin(q4(i))*sin(q6(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ5*cos(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xJ5*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xJ6*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - dq2(i)*(yJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + yJ5*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - zJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yG6*(cos(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - cos(q4(i))*sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + yJ6*(cos(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) - cos(q4(i))*sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ6*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + cos(q6(i))*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + cos(q4(i))*cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - sin(q4(i))*sin(q6(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) - zJ5*cos(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xJ5*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + xJ6*sin(q4(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ3*cos(q2(i))*sin(q1(i)) + yJ3*sin(q1(i))*sin(q2(i))) + dq1(i)*(yJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + yJ5*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - zJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + xG6*(cos(q6(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q6(i))*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))))) + zG6*(sin(q6(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q6(i))*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))))) + yJ2*cos(q1(i)) + xJ2*sin(q1(i)) + xJ3*sin(q1(i)) + xJ4*sin(q1(i)) + xJ5*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + xJ6*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + zJ5*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + yG6*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yJ6*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + zJ6*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + yJ3*cos(q1(i))*cos(q2(i)) - zJ3*cos(q1(i))*sin(q2(i))) + dq6(i)*(xG6*(sin(q6(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q6(i))*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))))) - zG6*(cos(q6(i))*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q6(i))*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))))))^2)/2 - (Ixy6*((sin(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))/2 + (cos(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2) + Iyz6*((sin(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 - (cos(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))/2) - Iyy6*(dq6(i)/2 + (sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 + (cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2))*(dq6(i) + sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))) + cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i)))) - (cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))*(Ixz4*((sin(q4(i))*(dq2(i) + dq3(i)))/2 + (cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2) - Ixx4*((cos(q4(i))*(dq2(i) + dq3(i)))/2 - (sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2) + Ixy4*(dq4(i)/2 + (dq1(i)*cos(q2(i))*sin(q3(i)))/2 + (dq1(i)*cos(q3(i))*sin(q2(i)))/2)) - (sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))*(Ixz4*((cos(q4(i))*(dq2(i) + dq3(i)))/2 - (sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2) - Izz4*((sin(q4(i))*(dq2(i) + dq3(i)))/2 + (cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))/2) + Iyz4*(dq4(i)/2 + (dq1(i)*cos(q2(i))*sin(q3(i)))/2 + (dq1(i)*cos(q3(i))*sin(q2(i)))/2)) + (m3*(dq2(i)*(yG3*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zG3*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yJ3*cos(q2(i)) - zJ3*sin(q2(i))) + dq3(i)*(yG3*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - zG3*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i)))))^2)/2 + (m5*(dq1(i)*(yG5*(sin(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + cos(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + zG5*(cos(q5(i))*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - sin(q5(i))*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i)))) + yJ4*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + yJ5*(sin(q1(i))*sin(q2(i))*sin(q3(i)) - cos(q2(i))*cos(q3(i))*sin(q1(i))) + zJ4*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i))) + xJ2*cos(q1(i)) + xJ3*cos(q1(i)) + xJ4*cos(q1(i)) - yJ2*sin(q1(i)) + xG5*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + xJ5*(cos(q1(i))*cos(q4(i)) - sin(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) + zJ5*(cos(q1(i))*sin(q4(i)) + cos(q4(i))*(cos(q2(i))*sin(q1(i))*sin(q3(i)) + cos(q3(i))*sin(q1(i))*sin(q2(i)))) - yJ3*cos(q2(i))*sin(q1(i)) + zJ3*sin(q1(i))*sin(q2(i))) - dq2(i)*(yJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ5*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + yG5*(cos(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zG5*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + zJ3*cos(q1(i))*cos(q2(i)) + yJ3*cos(q1(i))*sin(q2(i)) + zJ5*cos(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xG5*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xJ5*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - dq3(i)*(yJ4*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + yJ5*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + zJ4*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) + yG5*(cos(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zG5*(sin(q5(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + zJ5*cos(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xG5*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))) - xJ5*sin(q4(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) + dq4(i)*(zJ5*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - xJ5*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - xG5*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + zG5*cos(q5(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + yG5*sin(q5(i))*(cos(q4(i))*sin(q1(i)) + sin(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i))))) + dq5(i)*(yG5*(cos(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) - sin(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i)))) - zG5*(sin(q5(i))*(sin(q1(i))*sin(q4(i)) - cos(q4(i))*(cos(q1(i))*cos(q2(i))*sin(q3(i)) + cos(q1(i))*cos(q3(i))*sin(q2(i)))) + cos(q5(i))*(cos(q1(i))*cos(q2(i))*cos(q3(i)) - cos(q1(i))*sin(q2(i))*sin(q3(i))))))^2)/2 - (sin(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))) + cos(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))*(Ixz6*((sin(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 - (cos(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))/2) - Ixx6*((sin(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))/2 + (cos(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2) + Ixy6*(dq6(i)/2 + (sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 + (cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2)) - (sin(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))) - cos(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))*(Ixz6*((sin(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))/2 + (cos(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2) - Izz6*((sin(q6(i))*(dq5(i) + cos(q4(i))*(dq2(i) + dq3(i)) - sin(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 - (cos(q6(i))*(sin(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))) - cos(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i))))))/2) + Iyz6*(dq6(i)/2 + (sin(q5(i))*(sin(q4(i))*(dq2(i) + dq3(i)) + cos(q4(i))*(dq1(i)*cos(q2(i))*cos(q3(i)) - dq1(i)*sin(q2(i))*sin(q3(i)))))/2 + (cos(q5(i))*(dq4(i) + dq1(i)*cos(q2(i))*sin(q3(i)) + dq1(i)*cos(q3(i))*sin(q2(i))))/2)) + g*m5*(zJ1 + zJ2 + yJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yJ5*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + zJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yG5*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - zG5*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zJ3*cos(q2(i)) + yJ3*sin(q2(i)) + zJ5*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - xG5*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - xJ5*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + g*m1*(zG1 + zJ1) + g*m4*(zJ1 + zJ2 + yG4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + zJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zJ3*cos(q2(i)) + yJ3*sin(q2(i)) + zG4*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - xG4*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + (dq1(i)^2*m1*(yG1*cos(q1(i)) + xG1*sin(q1(i)))^2)/2 + (dq1(i)^2*m1*(xG1*cos(q1(i)) - yG1*sin(q1(i)))^2)/2 + (dq2(i)^2*m2*(yG2*cos(q2(i)) - zG2*sin(q2(i)))^2)/2 + g*m3*(zJ1 + zJ2 + yG3*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + zG3*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + zJ3*cos(q2(i)) + yJ3*sin(q2(i))) + g*m6*(zJ1 + zJ2 + yJ4*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + yJ5*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + zJ4*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) + yG6*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + yJ6*(cos(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) + cos(q4(i))*sin(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - zJ6*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zJ3*cos(q2(i)) + yJ3*sin(q2(i)) + xG6*(sin(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - cos(q6(i))*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - zG6*(cos(q6(i))*(sin(q5(i))*(cos(q2(i))*sin(q3(i)) + cos(q3(i))*sin(q2(i))) - cos(q4(i))*cos(q5(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + sin(q4(i))*sin(q6(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) + zJ5*cos(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - xJ5*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i))) - xJ6*sin(q4(i))*(cos(q2(i))*cos(q3(i)) - sin(q2(i))*sin(q3(i)))) - dq1(i)*cos(q2(i))*((Ixz2*dq2(i))/2 - (Izz2*dq1(i)*cos(q2(i)))/2 + (Iyz2*dq1(i)*sin(q2(i)))/2) - dq1(i)*sin(q2(i))*((Ixy2*dq2(i))/2 + (Iyz2*dq1(i)*cos(q2(i)))/2 - (Iyy2*dq1(i)*sin(q2(i)))/2) + g*m2*(zJ1 + zJ2 + zG2*cos(q2(i)) + yG2*sin(q2(i)));        
    dE(i) = (E(i)- E(1))/E(1);        
end        
